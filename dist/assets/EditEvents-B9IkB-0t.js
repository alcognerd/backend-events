import{a as N,d as y,r as i,e as k,j as s}from"./index-C1C7CAEQ.js";import{u as C}from"./useQuery-CyVCY3EZ.js";import{u as F}from"./useMutation-1ScYOpKK.js";import{b as E,F as S}from"./api-CJ7_z0NO.js";const I=()=>{const{user:h}=N(),{eventId:c}=y(),p=i.useRef(),m=k(),[x,g]=i.useState(null),{data:t}=C({queryKey:["getevents",c],queryFn:()=>S(c)}),[e,o]=i.useState({title:"",description:"",imageUrl:"",swags:!1,refreshments:!1});i.useEffect(()=>{var l,n,r,a,u;t!=null&&t.event&&o({title:((l=t==null?void 0:t.event)==null?void 0:l.title)||"",description:((n=t==null?void 0:t.event)==null?void 0:n.description)||"",imageUrl:((r=t==null?void 0:t.event)==null?void 0:r.imageUrl)||"",swags:((a=t==null?void 0:t.event)==null?void 0:a.swags)||!1,refreshments:((u=t==null?void 0:t.event)==null?void 0:u.refreshments)||!1})},[t,h]);const d=l=>{const{name:n,value:r}=l.target;o(a=>({...a,[n]:r}))},f=(l,n)=>{o(r=>({...r,[l]:n==="on"?!r[l]:n}))},b=l=>{const n=l.target.files[0];g(n)},w=l=>{l.preventDefault(),{...e};const n=new FormData;n.append("title",e==null?void 0:e.title),n.append("description",e==null?void 0:e.description),n.append("file",x),n.append("swags",e==null?void 0:e.swags),n.append("refreshments",e==null?void 0:e.refreshments),j(n),m("/events")},{isLoading:v,mutate:j}=F({mutationFn:l=>E(l,c)});return s.jsx("div",{className:"flex justify-center items-center min-h-screen p-6 sm:p-8 text-sm md:text-base lg:text-lg",children:s.jsx("div",{className:"bg-primary md:shadow-lg p-6 sm:p-8 rounded-lg w-full max-w-2xl flex flex-col gap-6",children:s.jsx("form",{onSubmit:w,className:"flex flex-col h-full w-full",children:s.jsxs("div",{className:"flex flex-col gap-5 md:p-4 md:bg-[#1a1a1a] text-[#e0e0e0] rounded-lg shadow-lg",children:[s.jsx("h2",{className:"text-lg font-semibold text-[#f0f0f0]",children:"Event Details"}),s.jsx("input",{type:"text",name:"title",className:"w-full px-3 py-2 lg:py-3 border border-[#333333] rounded-md focus:outline-none focus:ring-2 focus:ring-[#4a90e2] bg-[#222222] text-[#e0e0e0] placeholder-[#888888]",placeholder:"Enter event name",value:e==null?void 0:e.title,onChange:d}),s.jsx("textarea",{name:"description",className:"w-full px-3 py-2 border border-[#333333] rounded-md focus:outline-none focus:ring-2 focus:ring-[#4a90e2] bg-[#222222] text-[#e0e0e0] placeholder-[#888888] min-h-[80px] max-h-[80px]",placeholder:"Description",value:e==null?void 0:e.description,onChange:d}),s.jsx("input",{className:"h-10 lg:h-12 w-full bg-[#222222] text-[#e0e0e0] rounded-md cursor-pointer border border-[#333333] focus:outline-none focus:ring-2 focus:ring-[#4a90e2]",type:"file",ref:p,onChange:b}),s.jsxs("div",{className:"flex flex-col gap-4 text-sm text-[#e0e0e0]",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Refreshments And Swags"}),s.jsxs("div",{className:"p-3 border bg-[#222222] h-full w-full flex flex-col gap-2",children:[s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",id:"refreshments",checked:e==null?void 0:e.refreshments,onChange:l=>f("refreshments",l.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-300 rounded-full peer peer-checked:bg-blue-600 after:absolute after:top-1 after:left-1 after:bg-white after:border after:border-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-5"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-white",children:"Refreshments"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",id:"swags",checked:e==null?void 0:e.swags,onChange:l=>f("swags",l.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-300 rounded-full peer peer-checked:bg-blue-600 after:absolute after:top-1 after:left-1 after:bg-white after:border after:border-gray-300 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:after:translate-x-5"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-white",children:"Swags"})]})]}),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsx("button",{className:"w-full bg-blue-500 text-white p-2 rounded-md",disabled:v,children:"Submit âœ…"})})]})]})})})})};export{I as default};
